{"remainingRequest":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Books\\index.js?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Books\\index.js","mtime":1612364880965},{"path":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610436750386},{"path":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1610436747505}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvcGMvRGVza3RvcC9wcm9qZWN0cy9ib29rLW1nci9ib29rLW1nci1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVmLCBvbk1vdW50ZWQsIGNyZWF0ZVZOb2RlIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgYm9vayB9IGZyb20gJ0Avc2VydmljZSc7CmltcG9ydCB7IG1lc3NhZ2UsIE1vZGFsIH0gZnJvbSAnYW50LWRlc2lnbi12dWUnOwppbXBvcnQgeyByZXN1bHQsIGZvcm1hdFRpbWVzdGFtcCB9IGZyb20gJ0AvaGVscGVycy91dGlscyc7CmltcG9ydCBBZGRPbmUgZnJvbSAnLi9BZGRPbmUvaW5kZXgudnVlJzsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBBZGRPbmU6IEFkZE9uZQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIGNvbHVtbnMgPSBbewogICAgICB0aXRsZTogJ+S5puWQjScsCiAgICAgIGRhdGFJbmRleDogJ25hbWUnCiAgICB9LCB7CiAgICAgIHRpdGxlOiAn5L2c6ICFJywKICAgICAgZGF0YUluZGV4OiAnYXV0aG9yJwogICAgfSwgewogICAgICB0aXRsZTogJ+S7t+agvCcsCiAgICAgIGRhdGFJbmRleDogJ3ByaWNlJwogICAgfSwgewogICAgICB0aXRsZTogJ+W6k+WtmCcsCiAgICAgIHNsb3RzOiB7CiAgICAgICAgY3VzdG9tUmVuZGVyOiAnY291bnQnCiAgICAgIH0KICAgIH0sIHsKICAgICAgdGl0bGU6ICflh7rniYjml6XmnJ8nLAogICAgICBkYXRhSW5kZXg6ICdwdWJsaXNoRGF0ZScsCiAgICAgIHNsb3RzOiB7CiAgICAgICAgY3VzdG9tUmVuZGVyOiAncHVibGlzaERhdGUnCiAgICAgIH0KICAgIH0sIHsKICAgICAgdGl0bGU6ICfliIbnsbsnLAogICAgICBkYXRhSW5kZXg6ICdjbGFzc2lmeScKICAgIH0sIHsKICAgICAgdGl0bGU6ICfmk43kvZwnLAogICAgICBzbG90czogewogICAgICAgIGN1c3RvbVJlbmRlcjogJ2FjdGlvbnMnCiAgICAgIH0KICAgIH1dOwogICAgdmFyIHNob3cgPSByZWYoZmFsc2UpOwogICAgdmFyIGxpc3QgPSByZWYoW10pOwogICAgdmFyIHRvdGFsID0gcmVmKDApOwogICAgdmFyIGN1clBhZ2UgPSByZWYoMSk7CiAgICB2YXIga2V5d29yZCA9IHJlZignJyk7CiAgICB2YXIgaXNTZWFyY2ggPSByZWYoZmFsc2UpOwoKICAgIHZhciBnZXRMaXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBib29rLmxpc3QoewogICAgICAgICAgICAgICAgICBwYWdlOiBjdXJQYWdlLnZhbHVlLAogICAgICAgICAgICAgICAgICBzaXplOiAxMCwKICAgICAgICAgICAgICAgICAga2V5d29yZDoga2V5d29yZC52YWx1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXN1bHQocmVzKS5zdWNjZXNzKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CiAgICAgICAgICAgICAgICAgIHZhciBsID0gZGF0YS5saXN0LAogICAgICAgICAgICAgICAgICAgICAgdCA9IGRhdGEudG90YWw7CiAgICAgICAgICAgICAgICAgIGxpc3QudmFsdWUgPSBsOwogICAgICAgICAgICAgICAgICB0b3RhbC52YWx1ZSA9IHQ7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBnZXRMaXN0KCk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkpOyAvL+iuvue9rumhteeggQoKICAgIHZhciBzZXRQYWdlID0gZnVuY3Rpb24gc2V0UGFnZShwYWdlKSB7CiAgICAgIGN1clBhZ2UudmFsdWUgPSBwYWdlOwogICAgICBnZXRMaXN0KCk7CiAgICB9OyAvL+inpuWPkeaQnOe0ogoKCiAgICB2YXIgb25TZWFyY2ggPSBmdW5jdGlvbiBvblNlYXJjaCgpIHsKICAgICAgZ2V0TGlzdCgpOyAvL+Wtl+espuS4sumdnuepuueahOaXtuWAmSAtPiB0cnVlCiAgICAgIC8v5a2X56ym5Liy5Li656m655qE5pe25YCZIC0+IGZhbHNlCgogICAgICBpc1NlYXJjaC52YWx1ZSA9IEJvb2xlYW4oa2V5d29yZC52YWx1ZSk7CiAgICB9OyAvL+WbnuWIsOWFqOmDqOWIl+ihqAoKCiAgICB2YXIgYmFja0FsbCA9IGZ1bmN0aW9uIGJhY2tBbGwoKSB7CiAgICAgIGtleXdvcmQudmFsdWUgPSAnJzsKICAgICAgaXNTZWFyY2gudmFsdWUgPSBmYWxzZTsKICAgICAgZ2V0TGlzdCgpOwogICAgfTsgLy/liKDpmaTkuIDmnKzkuabnsY0KCgogICAgdmFyIHJlbW92ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmNSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoX3JlZjQpIHsKICAgICAgICB2YXIgcmVjb3JkLCBfaWQsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlY29yZCA9IF9yZWY0LnRleHQ7CiAgICAgICAgICAgICAgICBfaWQgPSByZWNvcmQuX2lkOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGJvb2sucmVtb3ZlKF9pZCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgcmVzdWx0KHJlcykuc3VjY2VzcyhmdW5jdGlvbiAoX3JlZjYpIHsKICAgICAgICAgICAgICAgICAgdmFyIG1zZyA9IF9yZWY2Lm1zZzsKICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKG1zZyk7IC8vIGNvbnN0IGlkeCA9IGxpc3QudmFsdWUuZmluZEluZGV4KChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICAgIC8vICAgICAgIHJldHVybiBpdGVtLl9pZCA9PT0gX2lkOwogICAgICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICAgICAgLy8gbGlzdC52YWx1ZS5zcGxpY2UoaWR4ICwgMSk7CgogICAgICAgICAgICAgICAgICBnZXRMaXN0KCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZShfeCkgewogICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBlZGl0Q291bnQgPSBmdW5jdGlvbiBlZGl0Q291bnQoKSB7CiAgICAgIE1vZGFsLmNvbmZpcm0oewogICAgICAgIHRpdGxlOiAn6KaB5aKe5Yqg5aSa5bCR5bqT5a2YJywKICAgICAgICBjb250ZW50OiBjcmVhdGVWTm9kZSgnZGl2JywgewogICAgICAgICAgaWQ6ICdhYmNkJywKICAgICAgICAgIGlubmVySFRNTDogJzxhPmFiY2Q8L2E+JwogICAgICAgIH0pCiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBjb2x1bW5zOiBjb2x1bW5zLAogICAgICBzaG93OiBzaG93LAogICAgICBsaXN0OiBsaXN0LAogICAgICBmb3JtYXRUaW1lc3RhbXA6IGZvcm1hdFRpbWVzdGFtcCwKICAgICAgY3VyUGFnZTogY3VyUGFnZSwKICAgICAgdG90YWw6IHRvdGFsLAogICAgICBzZXRQYWdlOiBzZXRQYWdlLAogICAgICBrZXl3b3JkOiBrZXl3b3JkLAogICAgICBvblNlYXJjaDogb25TZWFyY2gsCiAgICAgIGJhY2tBbGw6IGJhY2tBbGwsCiAgICAgIGlzU2VhcmNoOiBpc1NlYXJjaCwKICAgICAgcmVtb3ZlOiByZW1vdmUsCiAgICAgIGVkaXRDb3VudDogZWRpdENvdW50CiAgICB9OwogIH0KfSk7"},{"version":3,"sources":["C:/Users/pc/Desktop/projects/book-mgr/book-mgr-fe/src/views/Books/index.js"],"names":["defineComponent","ref","onMounted","createVNode","book","message","Modal","result","formatTimestamp","AddOne","components","setup","columns","title","dataIndex","slots","customRender","show","list","total","curPage","keyword","isSearch","getList","page","value","size","res","success","data","l","t","setPage","onSearch","Boolean","backAll","remove","record","text","_id","msg","editCount","confirm","content","id","innerHTML"],"mappings":"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","sourcesContent":["import {defineComponent,ref,onMounted ,createVNode} from 'vue'\r\n\nimport { book } from '@/service';\n\nimport {message,Modal} from 'ant-design-vue'\n\nimport { result , formatTimestamp} from '@/helpers/utils'\n\nimport AddOne from './AddOne/index.vue'\n\r\nexport default defineComponent({\n\n  components:{\n    AddOne,\n  },\n\r\n\tsetup() {\r\n\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle:'书名',\r\n\t\t\t\tdataIndex:'name',\r\n\t\t\t},\r\n\r\n       {\n       \ttitle:'作者',\n       \tdataIndex:'author',\n       },\n\n       {\n       \ttitle:'价格',\n       \tdataIndex:'price',\n       },\n\n       {\n       \ttitle:'库存',\n        slots:{\n          customRender:'count',\n        }\n       },\n\n       {\n       \ttitle:'出版日期',\n       \tdataIndex:'publishDate',\n        slots:{\n          customRender:'publishDate',\n        }\n       },\n\n       {\n       \ttitle:'分类',\n       \tdataIndex:'classify',\n       },\n\n        {\n        \ttitle:'操作',\n        \tslots:{\n        \t  customRender:'actions',\n        \t}\n        },\n\r\n\r\n\t\t];\r\n\r\n\r\n\n    const show = ref(false);\n\n    const list = ref([]);\n\n    const total = ref(0);\n\n    const curPage = ref(1);\n\n    const keyword = ref('');\n\n    const isSearch = ref(false);\n\n    const getList = async () => {\n\n//获取书籍列表\n        const res = await book.list({\n          page:curPage.value,\n          size:10,\n          keyword:keyword.value,\n        });\n\n        result(res)\n          .success(({data}) => {\n\n              const {list:l,total:t} = data;\n\n              list.value = l;\n\n               total.value = t;\n\n          });\n    }\n\n    onMounted (async () => {\n       getList();\n    });\n\n//设置页码\n    const setPage = (page) => {\n      curPage.value = page;\n\n      getList();\n\n    };\n\n//触发搜索\n    const onSearch = () => {\n        getList();\n\n//字符串非空的时候 -> true\n//字符串为空的时候 -> false\n        isSearch.value = Boolean(keyword.value);\n    };\n//回到全部列表\n    const backAll = () => {\n      keyword.value = '';\n\n      isSearch.value = false;\n\n       getList();\n\n    };\n\n//删除一本书籍\n    const remove = async ({text:record}) => {\n\n      const {_id} = record;\n\n      const res = await book.remove(_id);\n\n      result(res)\n        .success(({msg}) => {\n\n            message.success(msg);\n\n            // const idx = list.value.findIndex((item) => {\n            //       return item._id === _id;\n            // });\n\n            // list.value.splice(idx , 1);\n\n            getList();\n\n        });\n    };\n\n     const editCount = () => {\n        Modal.confirm({\n          title:'要增加多少库存',\n          content:createVNode('div' , {\n            id:'abcd',\n            innerHTML:'<a>abcd</a>',\n          })\n        });\n     }\n\r\n\t\treturn{\r\n      columns,\n      show,\n      list,\n      formatTimestamp,\n      curPage,\n      total,\n      setPage,\n      keyword,\n      onSearch,\n      backAll,\n      isSearch,\n      remove,\n      editCount,\r\n\t\t};\r\n\t},\r\n\r\n\r\n});\n"]}]}