{"remainingRequest":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Auth\\index.js?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Auth\\index.js","mtime":1611160404788},{"path":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610436750386},{"path":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1610436747505}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvcGMvRGVza3RvcC9wcm9qZWN0cy9ib29rLW1nci9ib29rLW1nci1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVhY3RpdmUsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IFVzZXJPdXRsaW5lZCwgTG9ja091dGxpbmVkLCBNYWlsT3V0bGluZWQgfSBmcm9tICdAYW50LWRlc2lnbi9pY29ucy12dWUnOwppbXBvcnQgeyBhdXRoIH0gZnJvbSAnQC9zZXJ2aWNlJzsKaW1wb3J0IHsgcmVzdWx0IH0gZnJvbSAnQC9oZWxwZXJzL3V0aWxzJzsKaW1wb3J0IHsgbWVzc2FnZSB9IGZyb20gJ2FudC1kZXNpZ24tdnVlJzsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBVc2VyT3V0bGluZWQ6IFVzZXJPdXRsaW5lZCwKICAgIExvY2tPdXRsaW5lZDogTG9ja091dGxpbmVkLAogICAgTWFpbE91dGxpbmVkOiBNYWlsT3V0bGluZWQKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIC8v5rOo5YaM55So55qE6KGo5Y2V5pWw5o2uCiAgICB2YXIgcmVnRm9ybSA9IHJlYWN0aXZlKHsKICAgICAgYWNjb3VudDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgaW52aXRlQ29kZTogJycKICAgIH0pOyAvL+azqOWGjOmAu+i+kQoKICAgIHZhciByZWdpc3RlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEocmVnRm9ybS5hY2NvdW50ID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5mbygn6K+36L6T5YWl6LSm5oi3Jyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCEocmVnRm9ybS5wYXNzd29yZCA9PT0gJycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtZXNzYWdlLmluZm8oJ+ivt+i+k+WFpeWvhueggScpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGlmICghKHJlZ0Zvcm0uaW52aXRlQ29kZSA9PT0gJycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtZXNzYWdlLmluZm8oJ+ivt+i+k+WFpemCgOivt+eggScpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBhdXRoLnJlZ2lzdGVyKHJlZ0Zvcm0uYWNjb3VudCwgcmVnRm9ybS5wYXNzd29yZCwgcmVnRm9ybS5pbnZpdGVDb2RlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXN1bHQocmVzKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2VzcyhkYXRhLm1zZyk7CiAgICAgICAgICAgICAgICB9KTsgLy9jb25zdHtkYXRhfSA9IGF3YWl0IGF1dGgubG9naW4obG9naW5Gb3JtLmFjY291bnQsIGxvZ2luRm9ybS5wYXNzd29yZCkKICAgICAgICAgICAgICAgIC8vY29uc3Qge2RhdGF9ID0gYXdhaXQgYXV0aC5yZWdpc3Rlcihsb2dpbkZvcm0uYWNjb3VudCwgbG9naW5Gb3JtLnBhc3N3b3JkKQogICAgICAgICAgICAgICAgLy8gCQkJaWYoZGF0YS5jb2RlICl7CiAgICAgICAgICAgICAgICAvLyAJCQkJbWVzc2FnZS5zdWNjZXNzKGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gCQkJCXJldHVybjsKICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICAvLyAJCQl9CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gCQkJbWVzc2FnZS5lcnJvcihkYXRhLm1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7IC8vIOeZu+WFpeeUqOeahOihqOWNleaVsOaNrgoKCiAgICB2YXIgbG9naW5Gb3JtID0gcmVhY3RpdmUoewogICAgICBhY2NvdW50OiAnJywKICAgICAgcGFzc3dvcmQ6ICcnCiAgICB9KTsgLy8g55m75YWl6YC76L6RCgogICAgdmFyIGxvZ2luID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShsb2dpbkZvcm0uYWNjb3VudCA9PT0gJycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbWVzc2FnZS5pbmZvKCfor7fovpPlhaXotKbmiLcnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCEobG9naW5Gb3JtLnBhc3N3b3JkID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtZXNzYWdlLmluZm8oJ+ivt+i+k+WFpeWvhueggScpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXV0aC5sb2dpbihsb2dpbkZvcm0uYWNjb3VudCwgbG9naW5Gb3JtLnBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXN1bHQocmVzKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2VzcyhkYXRhLm1zZyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICByZXR1cm4gewogICAgICAvLyDms6jlhoznm7jlhbPnmoTmlbDmja4KICAgICAgcmVnRm9ybTogcmVnRm9ybSwKICAgICAgcmVnaXN0ZXI6IHJlZ2lzdGVyLAogICAgICAvLyDnmbvlhaXnm7jlhbPmlbDmja4KICAgICAgbG9naW46IGxvZ2luLAogICAgICBsb2dpbkZvcm06IGxvZ2luRm9ybQogICAgfTsKICB9Cn0pOw=="},{"version":3,"sources":["C:/Users/pc/Desktop/projects/book-mgr/book-mgr-fe/src/views/Auth/index.js"],"names":["defineComponent","reactive","ref","UserOutlined","LockOutlined","MailOutlined","auth","result","message","components","setup","regForm","account","password","inviteCode","register","info","res","success","data","msg","loginForm","login"],"mappings":"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","sourcesContent":["import { defineComponent, reactive, ref } from 'vue';\r\n\r\nimport {UserOutlined,LockOutlined,MailOutlined} from '@ant-design/icons-vue'\r\n\r\nimport {auth} from '@/service'\r\n\r\nimport { result } from '@/helpers/utils';\r\n\r\nimport {message} from 'ant-design-vue'\r\n\r\nexport default defineComponent({\r\n\r\n\tcomponents:{\r\n\t\tUserOutlined,\r\n\t\tLockOutlined,\r\n\t\tMailOutlined,\r\n\t},\r\n\r\n\tsetup(){\r\n\t\t//注册用的表单数据\r\n\t\tconst regForm = reactive({\r\n\t\t\taccount:'',\r\n\t\t\tpassword:'',\r\n\t\t\tinviteCode:'',\r\n\t\t});\r\n\r\n\t\t//注册逻辑\r\n\t\tconst register = async() => {\r\n\t\t\tif (regForm.account === '') {\n\t\t\t      message.info('请输入账户');\n\t\t\t        return;\n\t\t\t      }\n\n\t\t\tif (regForm.password === '') {\n          message.info('请输入密码');\n\t\t\t    return;\n\t\t\t}\n\n\t\t\tif (regForm.inviteCode === '') {\n\t\t\t    message.info('请输入邀请码');\n\t\t\t        return;\n\t\t\t}\r\n\r\n\r\n\t\t\t\r\n\t\t\t const res = await auth.register(\r\n\t\t\t\t\tregForm.account,\r\n\t\t\t\t\tregForm.password,\r\n          regForm.inviteCode,\r\n\t\t\t);\r\n\r\n\t\t\tresult(res)\r\n\t\t\t\t.success((data) => {\r\n\t\t\t\t\t  message.success(data.msg);\r\n\t\t\t\t});\r\n\r\n\r\n\r\n\r\n\t\t\t//const{data} = await auth.login(loginForm.account, loginForm.password)\r\n\r\n\t\t\t//const {data} = await auth.register(loginForm.account, loginForm.password)\r\n\r\n// \t\t\tif(data.code ){\r\n// \t\t\t\tmessage.success(data.message);\r\n//\r\n// \t\t\t\treturn;\r\n//\r\n// \t\t\t}\r\n//\r\n// \t\t\tmessage.error(data.msg);\r\n\r\n\t\t};\r\n\n // 登入用的表单数据\n    const loginForm = reactive({\n          account: '',\n          password: '',\n    });\n\n// 登入逻辑\r\n\t\t  const login = async () => {\n\t\t      if (loginForm.account === '') {\n\t\t        message.info('请输入账户');\n\t\t        return;\n\t\t      }\n\n\t\t      if (loginForm.password === '') {\n\t\t        message.info('请输入密码');\n\t\t        return;\n\t\t      }\n\n      const res = await auth.login(loginForm.account, loginForm.password)\n\n      result(res)\n        .success((data) => {\n            message.success(data.msg);\n        });\n\n    };\r\n\r\n\t\t return {\r\n\t\t  // 注册相关的数据\r\n\t\t  regForm,\r\n\t\t  register,\r\n\r\n\t\t  // 登入相关数据\r\n\t\t  login,\r\n\t\t  loginForm,\r\n\r\n\r\n\t\t};\r\n\r\n\t},\r\n});\r\n"]}]}