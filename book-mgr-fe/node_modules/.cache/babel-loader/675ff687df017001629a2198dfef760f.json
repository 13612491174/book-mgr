{"remainingRequest":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Auth\\index.js?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Auth\\index.js","mtime":1608911921899},{"path":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607772672731},{"path":"C:\\Users\\pc\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1607772664127}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvcGMvRGVza3RvcC9wcm9qZWN0cy9ib29rLW1nci9ib29rLW1nci1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVhY3RpdmUsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IFVzZXJPdXRsaW5lZCwgTG9ja091dGxpbmVkLCBNYWlsT3V0bGluZWQgfSBmcm9tICdAYW50LWRlc2lnbi9pY29ucy12dWUnOwppbXBvcnQgeyBhdXRoIH0gZnJvbSAnQC9zZXJ2aWNlJzsKaW1wb3J0IHsgcmVzdWx0IH0gZnJvbSAnQC9oZWxwZXJzL3V0aWxzJzsKaW1wb3J0IHsgbWVzc2FnZSB9IGZyb20gJ2FudC1kZXNpZ24tdnVlJzsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBVc2VyT3V0bGluZWQ6IFVzZXJPdXRsaW5lZCwKICAgIExvY2tPdXRsaW5lZDogTG9ja091dGxpbmVkLAogICAgTWFpbE91dGxpbmVkOiBNYWlsT3V0bGluZWQKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIC8v5rOo5YaM55So55qE6KGo5Y2V5pWw5o2uCiAgICB2YXIgcmVnRm9ybSA9IHJlYWN0aXZlKHsKICAgICAgYWNjb3VudDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgaW52aXRlQ29kZTogJycKICAgIH0pOyAvL+azqOWGjOmAu+i+kQoKICAgIHZhciByZWdpc3RlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEocmVnRm9ybS5hY2NvdW50ID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5mbygn6K+36L6T5YWl6LSm5oi3Jyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCEocmVnRm9ybS5wYXNzd29yZCA9PT0gJycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtZXNzYWdlLmluZm8oJ+ivt+i+k+WFpeWvhueggScpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGlmICghKHJlZ0Zvcm0uaW52aXRlQ29kZSA9PT0gJycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtZXNzYWdlLmluZm8oJ+ivt+i+k+WFpemCgOivt+eggScpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBhdXRoLnJlZ2lzdGVyKHJlZ0Zvcm0uYWNjb3VudCwgcmVnRm9ybS5wYXNzd29yZCwgcmVnRm9ybS5pbnZpdGVDb2RlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXN1bHQocmVzKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2VzcyhkYXRhLm1zZyk7CiAgICAgICAgICAgICAgICB9KTsgLy9jb25zdHtkYXRhfSA9IGF3YWl0IGF1dGgubG9naW4obG9naW5Gb3JtLmFjY291bnQsIGxvZ2luRm9ybS5wYXNzd29yZCkKICAgICAgICAgICAgICAgIC8vY29uc3Qge2RhdGF9ID0gYXdhaXQgYXV0aC5yZWdpc3Rlcihsb2dpbkZvcm0uYWNjb3VudCwgbG9naW5Gb3JtLnBhc3N3b3JkKQogICAgICAgICAgICAgICAgLy8gCQkJaWYoZGF0YS5jb2RlICl7CiAgICAgICAgICAgICAgICAvLyAJCQkJbWVzc2FnZS5zdWNjZXNzKGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAvLyAJCQkJCiAgICAgICAgICAgICAgICAvLyAJCQkJcmV0dXJuOwogICAgICAgICAgICAgICAgLy8gCQkJCQogICAgICAgICAgICAgICAgLy8gCQkJfQogICAgICAgICAgICAgICAgLy8gCQkJCiAgICAgICAgICAgICAgICAvLyAJCQltZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gcmVnaXN0ZXIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsgLy/nmbvlvZXnlKjnmoTooajljZXmlbDmja4KCgogICAgdmFyIGxvZ2luRm9ybSA9IHJlYWN0aXZlKHsKICAgICAgYWNjb3VudDogJycsCiAgICAgIHBhc3N3b3JkOiAnJwogICAgfSk7IC8v55m75b2V6YC76L6RCgogICAgdmFyIGxvZ2luID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXV0aC5sb2dpbihsb2dpbkZvcm0uYWNjb3VudCwgbG9naW5Gb3JtLnBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXN1bHQocmVzKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2VzcyhkYXRhLm1zZyk7CiAgICAgICAgICAgICAgICB9KTsgLy8gY29uc3Qge2RhdGF9ID0gYXdhaXQgYXV0aC5sb2dpbihsb2dpbkZvcm0uYWNjb3VudCAsIGxvZ2luRm9ybS5wYXNzd29yZCkKICAgICAgICAgICAgICAgIC8vIAkJCWlmKGRhdGEuY29kZSkgewogICAgICAgICAgICAgICAgLy8gCQkJCQogICAgICAgICAgICAgICAgLy8gCQkJCW1lc3NhZ2Uuc3VjY2VzcyhkYXRhLm1zZyk7CiAgICAgICAgICAgICAgICAvLyAJCQkJCiAgICAgICAgICAgICAgICAvLyAJCQkJcmV0dXJuOwogICAgICAgICAgICAgICAgLy8gCQkJCQogICAgICAgICAgICAgICAgLy8gCQkJfQogICAgICAgICAgICAgICAgLy8gCQkJCiAgICAgICAgICAgICAgICAvLyAJCQltZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIC8vIOazqOWGjOebuOWFs+eahOaVsOaNrgogICAgICByZWdGb3JtOiByZWdGb3JtLAogICAgICByZWdpc3RlcjogcmVnaXN0ZXIsCiAgICAgIC8vIOeZu+WFpeebuOWFs+aVsOaNrgogICAgICBsb2dpbjogbG9naW4sCiAgICAgIGxvZ2luRm9ybTogbG9naW5Gb3JtCiAgICB9OwogIH0KfSk7"},{"version":3,"sources":["C:/Users/pc/Desktop/projects/book-mgr/book-mgr-fe/src/views/Auth/index.js"],"names":["defineComponent","reactive","ref","UserOutlined","LockOutlined","MailOutlined","auth","result","message","components","setup","regForm","account","password","inviteCode","register","info","res","success","data","msg","loginForm","login"],"mappings":";;AAAA,SAASA,eAAT,EAA0BC,QAA1B,EAAoCC,GAApC,QAA+C,KAA/C;AAEA,SAAQC,YAAR,EAAqBC,YAArB,EAAkCC,YAAlC,QAAqD,uBAArD;AAEA,SAAQC,IAAR,QAAmB,WAAnB;AAEA,SAASC,MAAT,QAAuB,iBAAvB;AAEA,SAAQC,OAAR,QAAsB,gBAAtB;AAEA,eAAeR,eAAe,CAAC;AAE9BS,EAAAA,UAAU,EAAC;AACVN,IAAAA,YAAY,EAAZA,YADU;AAEVC,IAAAA,YAAY,EAAZA,YAFU;AAGVC,IAAAA,YAAY,EAAZA;AAHU,GAFmB;AAQ9BK,EAAAA,KAR8B,mBAQvB;AACN;AACA,QAAMC,OAAO,GAAGV,QAAQ,CAAC;AACxBW,MAAAA,OAAO,EAAC,EADgB;AAExBC,MAAAA,QAAQ,EAAC,EAFe;AAGxBC,MAAAA,UAAU,EAAC;AAHa,KAAD,CAAxB,CAFM,CAQN;;AACA,QAAMC,QAAQ;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGZJ,OAAO,CAACC,OAAR,KAAoB,EAHR;AAAA;AAAA;AAAA;;AAIfJ,gBAAAA,OAAO,CAACQ,IAAR,CAAa,OAAb;AAJe;;AAAA;AAAA,sBAQVL,OAAO,CAACE,QAAR,KAAqB,EARX;AAAA;AAAA;AAAA;;AASdL,gBAAAA,OAAO,CAACQ,IAAR,CAAa,OAAb;AATc;;AAAA;AAAA,sBAaXL,OAAO,CAACG,UAAR,KAAuB,EAbZ;AAAA;AAAA;AAAA;;AAcfN,gBAAAA,OAAO,CAACQ,IAAR,CAAa,QAAb;AAde;;AAAA;AAAA;AAAA,uBAmBGV,IAAI,CAACS,QAAL,CACjBJ,OAAO,CAACC,OADS,EAEjBD,OAAO,CAACE,QAFS,EAGjBF,OAAO,CAACG,UAHS,CAnBH;;AAAA;AAmBTG,gBAAAA,GAnBS;AAyBhBV,gBAAAA,MAAM,CAACU,GAAD,CAAN,CACEC,OADF,CACU,UAACC,IAAD,EAAU;AAChBX,kBAAAA,OAAO,CAACU,OAAR,CAAgBC,IAAI,CAACC,GAArB;AACF,iBAHF,EAzBgB,CAiChB;AAEA;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA5CmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAARL,QAAQ;AAAA;AAAA;AAAA,OAAd,CATM,CAyDN;;;AACC,QAAMM,SAAS,GAAGpB,QAAQ,CAAC;AAC1BW,MAAAA,OAAO,EAAE,EADiB;AAE1BC,MAAAA,QAAQ,EAAE;AAFgB,KAAD,CAA1B,CA1DK,CA+DN;;AACA,QAAMS,KAAK;AAAA,0EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAYKhB,IAAI,CAACgB,KAAL,CAAWD,SAAS,CAACT,OAArB,EAA+BS,SAAS,CAACR,QAAzC,CAZL;;AAAA;AAYPI,gBAAAA,GAZO;AAcbV,gBAAAA,MAAM,CAACU,GAAD,CAAN,CACEC,OADF,CACU,UAACC,IAAD,EAAU;AAClBX,kBAAAA,OAAO,CAACU,OAAR,CAAgBC,IAAI,CAACC,GAArB;AACA,iBAHF,EAda,CAkBb;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA5BgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAALE,KAAK;AAAA;AAAA;AAAA,OAAX;;AAgCC,WAAO;AACN;AACAX,MAAAA,OAAO,EAAPA,OAFM;AAGNI,MAAAA,QAAQ,EAARA,QAHM;AAKN;AACAO,MAAAA,KAAK,EAALA,KANM;AAOND,MAAAA,SAAS,EAATA;AAPM,KAAP;AAYD;AApH6B,CAAD,CAA9B","sourcesContent":["import { defineComponent, reactive, ref } from 'vue';\r\n\r\nimport {UserOutlined,LockOutlined,MailOutlined} from '@ant-design/icons-vue'\r\n\r\nimport {auth} from '@/service'\r\n\r\nimport { result } from '@/helpers/utils';\r\n\r\nimport {message} from 'ant-design-vue'\r\n\r\nexport default defineComponent({\r\n\t\r\n\tcomponents:{\r\n\t\tUserOutlined, \r\n\t\tLockOutlined,\r\n\t\tMailOutlined,\r\n\t},\r\n\t\r\n\tsetup(){\r\n\t\t//注册用的表单数据\r\n\t\tconst regForm = reactive({\r\n\t\t\taccount:'',\r\n\t\t\tpassword:'',\r\n\t\t\tinviteCode:'',\r\n\t\t});\r\n\t\t\r\n\t\t//注册逻辑\r\n\t\tconst register = async() => {\r\n\t\t\t// console.log(regForm)\r\n\t\t\t\r\n\t\t\tif (regForm.account === '') {\r\n\t\t\t\tmessage.info('请输入账户');\r\n \t\t\t\treturn;\r\n \t\t\t}\r\n \t\t\t\r\n \t\t\t if (regForm.password === '') {\r\n \t\t\t\tmessage.info('请输入密码');\r\n \t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t if (regForm.inviteCode === '') {\r\n\t\t\t\tmessage.info('请输入邀请码');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//优化:\r\n\t\t\t const res = await auth.register(\r\n\t\t\t\t\tregForm.account,\r\n\t\t\t\t\tregForm.password,\r\n\t\t\t\t\tregForm.inviteCode,\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\tresult(res)\r\n\t\t\t\t.success((data) => {\r\n\t\t\t\t\t  message.success(data.msg);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\r\n\t\t\t//const{data} = await auth.login(loginForm.account, loginForm.password)\r\n\t\t\t\r\n\t\t\t//const {data} = await auth.register(loginForm.account, loginForm.password)\r\n\t\t\t\r\n// \t\t\tif(data.code ){\r\n// \t\t\t\tmessage.success(data.message);\r\n// \t\t\t\t\r\n// \t\t\t\treturn;\r\n// \t\t\t\t\r\n// \t\t\t}\r\n// \t\t\t\r\n// \t\t\tmessage.error(data.msg);\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\t//登录用的表单数据\r\n\t\t const loginForm = reactive({\r\n\t\t  account: '',\r\n\t\t  password: '',\r\n\t\t});\r\n\t\t\r\n\t\t//登录逻辑\r\n\t\tconst login = async () => {\r\n\t\t\t\r\n// \t\t\tif(loginForm.account === ''){\r\n// \t\t\t\tmessage.info('请输入账户');\r\n// \t\t\t\treturn;\r\n// \t\t\t}\r\n// \t\t\t\r\n// \t\t\tif(loginForm.password === ''){\r\n// \t\t\t\tmessage.info('请输入密码');\r\n// \t\t\t\treturn;\r\n// \t\t\t}\r\n\t\t\t\r\n\t\t\tconst res = await auth.login(loginForm.account , loginForm.password);\r\n\t\t\t\r\n\t\t\tresult(res)\r\n\t\t\t\t.success((data) => {\r\n\t\t\t\t\tmessage.success(data.msg)\r\n\t\t\t\t})\r\n\t\t\t// const {data} = await auth.login(loginForm.account , loginForm.password)\r\n\t\t\t\r\n// \t\t\tif(data.code) {\r\n// \t\t\t\t\r\n// \t\t\t\tmessage.success(data.msg);\r\n// \t\t\t\t\r\n// \t\t\t\treturn;\r\n// \t\t\t\t\r\n// \t\t\t}\r\n// \t\t\t\r\n// \t\t\tmessage.error(data.msg);\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\t return {\r\n\t\t  // 注册相关的数据\r\n\t\t  regForm,\r\n\t\t  register,\r\n\r\n\t\t  // 登入相关数据\r\n\t\t  login,\r\n\t\t  loginForm,\r\n\r\n\t\t  \r\n\t\t};\r\n\t\t\r\n\t},\r\n});\r\n"]}]}